<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- SQL Mapping -->
<mapper namespace="com.ai.admin.dao.MenuMapper">
	<!-- 메뉴 리스트 조회 -->
	<select id="selectMenuList" resultType="com.ai.admin.vo.MenuVo">
		SELECT CM.MENU_ID
			 , CM.MENU_NM
			 , CM.FST_CRER_ID
			 , IFNULL((SELECT USER_NM FROM CU_USER WHERE USER_ID = CM.FST_CRER_ID), CM.FST_CRER_ID) AS FST_CRER_NM
			 , DATE_FORMAT(CM.FST_CRE_DTM, '%Y.%m.%d') AS FST_CRE_DTM
			 , CM.AUDIT_ID
			 , IFNULL((SELECT USER_NM FROM CU_USER WHERE USER_ID = CM.AUDIT_ID), CM.AUDIT_ID) AS AUDIT_NM
			 , DATE_FORMAT(CM.AUDIT_DTM, '%Y.%m.%d') AS AUDIT_DTM
			 , CM.UP_MENU_ID
			 , CM.MENU_DEPTH
			 , CM.MENU_URL
			 , CM.VISIBLE_YN
			 , CM.SORT_SEQ
			 , CM.ETC
		  FROM CM_MENU CM
		 WHERE 1 = 1
		 ORDER BY CM.MENU_DEPTH
	</select>

</mapper>